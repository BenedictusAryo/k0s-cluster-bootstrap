applications:
  - name: cluster-serverless
    active: true
    namespace: argocd
    repoURL: https://github.com/BenedictusAryo/cluster-serverless.git
    targetRevision: main
    path: .
    version: 1.0.0
    valueFiles:
      - values.yaml
    destinationNamespace: argocd
  - name: knative-operator
    active: true
    namespace: argocd
    repoURL: https://knative.github.io/operator
    targetRevision: "1.20.0"
    chart: knative-operator
    version: "1.20.0"
    destinationNamespace: knative-operator
    # Install before cluster-serverless to provide required CRDs
    destinationServer: https://kubernetes.default.svc
# Default values for cluster-init Helm chart
nameOverride: ""
fullnameOverride: ""
cilium:
  enabled: false  # Already installed by cluster-entrypoint.sh
  gatewayAPI:
    enabled: true
sealedSecrets:
  enabled: false  # Already installed by cluster-entrypoint.sh
  image:
    repository: ghcr.io/bitnami-labs/sealed-secrets-controller
    tag: "0.33.1"
argocd:
  enabled: true
  helm:
    version: "9.1.3"
  ingress:
    enabled: true
    hostname: argocd.benedict-aryo.com
cloudflareGateway:
  enabled: true

# Cloudflare Tunnel configuration
cloudflareTunnel:
  enabled: true
  namespace: cloudflare-tunnel

  # Replica count for HA
  replicas: 2

  # Credentials (SealedSecret deployed via GitOps)
  credentials:
    useExistingSecret: false  # SealedSecret is managed in templates/
    secretName: cloudflare-tunnel-secret

# MetalLB configuration
metallb:
  enabled: true
  addressPools:
    - name: default
      addresses:
        - 139.162.61.125/32
